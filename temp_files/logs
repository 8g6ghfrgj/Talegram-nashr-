# Ù…Ù„Ù: create_temp_dirs.py
import os
import sys

def create_temp_directories():
    """Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„Ù…Ø¤Ù‚ØªØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©"""
    
    # Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
    temp_dirs = [
        "temp_files/ads",
        "temp_files/group_replies", 
        "temp_files/random_replies",
        "temp_files/logs",
        "temp_files/backups",
        "temp_files/exports"
    ]
    
    print("ğŸ“ Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª...")
    
    created_count = 0
    for directory in temp_dirs:
        try:
            os.makedirs(directory, exist_ok=True)
            
            # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù .gitkeep ÙÙŠ ÙƒÙ„ Ù…Ø¬Ù„Ø¯
            gitkeep_path = os.path.join(directory, ".gitkeep")
            if not os.path.exists(gitkeep_path):
                with open(gitkeep_path, 'w') as f:
                    f.write("# This file keeps the directory in git\n")
            
            print(f"âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡: {directory}")
            created_count += 1
            
        except Exception as e:
            print(f"âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ {directory}: {e}")
    
    # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù README ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
    readme_content = """# temp_files Directory

This directory contains temporary files for the Telegram bot.

## Subdirectories:

### ads/
- Temporary advertisement files (images, VCF contacts, etc.)
- Automatically cleaned up after 7 days

### group_replies/
- Images and media for group replies
- Used for automatic replies in groups

### random_replies/  
- Media files for random replies in groups
- Automatically managed by the bot

### logs/
- Application log files
- Rotated and cleaned automatically

### backups/
- Database backups and exports
- Created automatically by the system

### exports/
- Data export files (JSON, CSV, etc.)
- Created when exporting bot data

## Important Notes:
1. All files in these directories are TEMPORARY
2. Files are automatically cleaned up after specific periods
3. Do not store important files here
4. The bot manages these directories automatically
"""

    readme_path = "temp_files/README.md"
    with open(readme_path, 'w', encoding='utf-8') as f:
        f.write(readme_content)
    
    print(f"\nğŸ‰ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ {created_count} Ù…Ø¬Ù„Ø¯ Ù…Ø¤Ù‚Øª")
    print("ğŸ“ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù README.md")
    print("âœ… ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!")

if __name__ == "__main__":
    create_temp_directories()
